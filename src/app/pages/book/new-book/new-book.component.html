<app-navigation></app-navigation>
<form action="">
    <img src="../../../assets/dia-mundial-do-livro.png" alt="">
    <input type="file" placeholder="Image" class="form-control" name="Image" (change)="onFileChange($event)">
    <label for="Title">Title:</label>
    <input type="text" placeholder="Title" class="form-control" name="Title" [(ngModel)]="book.title">
    <label for="author">Author:</label>
    <select name="author" class="authorSelect" [(ngModel)]="book.author">
        <option selected disabled>Author</option>
        <option *ngFor="let a of authors" [ngValue]="a.id">{{a.author}}</option>
    </select>
    <label for="year">Year:</label>
    <input type="number" placeholder="Year" class="form-control" name="year" [(ngModel)]="book.year">
    <label for="price">Price:</label>
    <input type="number" placeholder="Price" class="form-control" name="price" [(ngModel)]="book.price">
    <label for="pages">Pages:</label>
    <input type="number" placeholder="Pages" class="form-control" name="pages" [(ngModel)]="book.pages">
    <label for="quantity">Quantity:</label>
    <input type="number" placeholder="Quantity" class="form-control" name="quantity" [(ngModel)]="book.quantity">
    <label for="description">Description:</label>
    <input type="text" placeholder="Description" class="form-control" name="description" [(ngModel)]="book.description">
    
    <div>
        <select name="category" class="characteristics" [(ngModel)]="book.category">
            <option selected disabled>Category</option>
            <option *ngFor="let c of categories" [value]="c.id">{{c.category}}</option>
        </select>
        <select name="language" [(ngModel)]="book.language" class="characteristics">
            <option value="" disabled selected>Language</option>
            <option value="English">English</option>
            <option value="Portuguese">Portuguese</option>
        </select>
        <select name="bookCover" [(ngModel)]="book.bookCover" class="characteristics">
            <option value="" disabled selected>Book-Cover</option>
            <option value="HardCover">Hard-Cover</option>
            <option value="SoftCover">Soft-Cover</option>
        </select>
    </div>
        
    <input type="button" value="Register" *ngIf="btnRegister" class="btn btn-primary" (click)="register()">
    <input type="button" value="Edit" *ngIf="!btnRegister" class="btn btn-warning" (click)="editBook()">
    <input type="button" value="Remove" *ngIf="!btnRegister" class="btn btn-danger" (click)="removeBook()">
    <input type="button" value="Cancel" *ngIf="!btnRegister" class="btn btn-secondary" (click)="cancel()">
</form>

<table class="table" *ngIf="table">
    <thead>
        <tr>
            <th>#</th>
            <th>Title</th>
            <th>Author</th>
            <th>Year</th>
            <th>Price</th>
            <th>Pages</th>
            <th>Language</th>
            <th>Book Cover</th>
            <th>Quantity</th>
        </tr>
    </thead>
    <tbody>
         <tr *ngFor="let b of books; index as i">
            <td>{{i+1}}</td>
            <td>{{b.title}}</td>
            <td>{{b.author.author}}</td>
            <td>{{b.year}}</td>
            <td>{{b.price}}</td>
            <td>{{b.pages}}</td>
            <td>{{b.language}}</td>
            <td>{{b.bookCover}}</td>
            <td>{{b.quantity}}</td>
            <td><button class="btn btn-success" (click)="selectBook(i)">Select</button></td>
         </tr>
    </tbody>
</table>

